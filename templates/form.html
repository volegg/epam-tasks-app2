<!DOCTYPE html>
<html lang="en" ng-app="itemApp">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
    <script src="/node_modules/angular/angular.min.js"></script>
    <script src="/src/app.js"></script>
    <title>Form</title>
</head>
<body>
    <div ng-controller="itemController as itemCtrl">
        <form name="form" novalidate>
            <label>
                Name:
                <input type="text" placeholder="Input name" name="name" ng-model="item.name" />
            </label>
            <label>
                Email:
                <input type="text" placeholder="Your email address" name="email" ng-model="item.email" ng-pattern="/^[a-zA-Z0-9\._%+-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,}$/"/>
                <span ng-show="form.$submitted || form.email.$touched">
                    <span ng-show="form.email.$error.pattern">This is not a valid email.</span>
                </span>
            </label>
            <label>
                Phone:
                <input type="text" placeholder="+375ZZXXXYYYY" name="phone" ng-model="item.phone" ng-pattern="/^\+375[0-9]{9}$|^8017[0-9]{7}$/"/>
                <span ng-show="form.$submitted || form.phone.$touched">
                    <span ng-show="form.phone.$error.pattern">This is not a valid phone.</span>
                </span>
            </label>
            <button type="submit" ng-click="form.$valid ? itemCtrl.create(item, form) : false">Submit</button>
        </form>
        <table>
            <tr ng-repeat="(key, item) in itemCtrl.items">
                <td ng-bind="key+1"></td>
                <td ng-bind="item.name"></td>
                <td ng-bind="item.email"></td>
                <td ng-bind="item.phone"></td>
                <td ng-click="itemCtrl.remove(item)">Remove</td>
            </tr>
        </table>
    </div>
</body>
</html>
